<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SagarBarcode</title>
<style>
body{font-family:Arial,Helvetica,sans-serif;background:#0f172a;color:#fff;margin:0;padding:0}
header{background:#020617;padding:12px;text-align:center;font-size:20px;font-weight:bold}
.container{padding:15px}
button{padding:12px 16px;border:none;border-radius:8px;font-size:16px;margin:5px}
#startBtn{background:#2563eb;color:#fff;width:100%}
#retryBtn{background:#dc2626;color:#fff;display:none}
#saveBtn{background:#16a34a;color:#fff;display:none;width:100%}
video{width:100%;border-radius:12px;border:2px solid #334155}
input,textarea{width:100%;padding:10px;border-radius:8px;border:none;margin-top:8px}
.success{color:#22c55e;font-weight:bold;margin-top:10px}
.error{color:#ef4444;font-weight:bold;margin-top:10px}
footer{text-align:center;margin-top:20px;font-size:14px;color:#94a3b8}
</style>
</head>
<body>
<header>SagarBarcode Scanner</header>
<div class="container">
<button id="startBtn">Start Scan</button>
<div id="video"></div>

<div id="result" class="success"></div>

<label>Module SR No</label>
<input id="srno" placeholder="Scanned value">

<label>Remark</label>
<textarea id="remark"></textarea>

<button id="saveBtn">Save</button>
<button id="retryBtn">Retry Scan</button>

<div id="msg"></div>
</div>
<footer>Design by - Sagar Herole</footer>

<script src="https://unpkg.com/html5-qrcode"></script>
<script>
let html5QrCode;

document.getElementById("startBtn").onclick = async ()=>{
 document.getElementById("result").innerText="";
 html5QrCode = new Html5Qrcode("video");
 await html5QrCode.start(
 { facingMode: "environment" },
 { fps: 10, qrbox: 250 },
 (decodedText)=>{
   document.getElementById("srno").value = decodedText;
   document.getElementById("result").innerText = "Scan Completed";
   speechSynthesis.speak(new SpeechSynthesisUtterance("Scan completed"));
   html5QrCode.stop();
   document.getElementById("saveBtn").style.display="block";
   document.getElementById("retryBtn").style.display="block";
 }
 );
};

document.getElementById("retryBtn").onclick=()=>{
 location.reload();
};

document.getElementById("saveBtn").onclick=()=>{
 document.getElementById("msg").innerHTML="<span class='success'>Saved locally (demo)</span>";
};
</script>
</body>
</html>
